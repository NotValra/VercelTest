<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TikTok In-App Browser Detection with Resize</title>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const userAgent = navigator.userAgent || navigator.vendor || window.opera;

            function isTikTokInAppBrowser(ua) {
                return ua.indexOf('TikTok') > -1;
            }

            function setColumns(columns) {
                // Implement your logic to set the number of columns
                console.log(`Setting columns to: ${columns}`);
            }

            function resize(innerWidth) {
                if (window.matchMedia("only screen and (max-width: 760px)").matches) {
                    setColumns(1);
                } else if (innerWidth > 700) {
                    setColumns(4);
                } else if (innerWidth < 700 && innerWidth > 600) {
                    setColumns(3);
                } else if (innerWidth < 600 && innerWidth > 400) {
                    setColumns(2);
                } else {
                    setColumns(1);
                }
            }

            window.addEventListener("resize", function(event) {
                resize(event.target.innerWidth);
            }, true);

            if (isTikTokInAppBrowser(userAgent)) {
                alert("You are using TikTok's in-app browser. Please open this link in your default browser.");
                window.location.href = "https://example.com"; // Replace with your specific link
            } else {
                resize(window.innerWidth);
            }
        });
    </script>
</head>
<body>
    <h1>Welcome to Our Site</h1>
    <p>If you are seeing this message, you are not in TikTok's in-app browser or JavaScript is disabled.</p>
</body>
</html>
